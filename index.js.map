{"version":3,"file":"index.js","mappings":"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","sources":["webpack://frame/./src/js/svg.js","webpack://frame/./src/js/floatingEmelemt.js","webpack://frame/./src/js/Observable.js","webpack://frame/./src/js/modal.js","webpack://frame/./src/js/completeRequest.js","webpack://frame/./src/js/saveData.js","webpack://frame/./src/js/timer.js","webpack://frame/./src/js/screenMask.js","webpack://frame/./src/js/screenRecorder.js","webpack://frame/./src/js/main.js"],"sourcesContent":["export const maskIcon = '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M23.8333 13V9.75002C23.8333 4.33335 21.6667 2.16669 16.25 2.16669H9.75C4.33334 2.16669 2.16667 4.33335 2.16667 9.75002V16.25C2.16667 21.6667 4.33334 23.8334 9.75 23.8334H13\" stroke=\"#5150AE\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/><path d=\"M22.7067 19.3267L20.9408 19.9225C20.4533 20.085 20.0633 20.4642 19.9008 20.9625L19.305 22.7283C18.7958 24.2558 16.6508 24.2233 16.1742 22.6958L14.17 16.25C13.78 14.9717 14.9608 13.78 16.2283 14.1808L22.685 16.185C24.2017 16.6617 24.2233 18.8175 22.7067 19.3267Z\" stroke=\"#5150AE\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg>';\r\nexport const recordIcon = '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"12.8131\" cy=\"12.8131\" r=\"12.1616\" stroke=\"#FF5158\" stroke-width=\"1.30303\"/><circle cx=\"12.8131\" cy=\"12.813\" r=\"9.7727\" fill=\"#FF5158\"/></svg>';\r\nexport const stopRecordIcon = '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"12.8131\" cy=\"12.8131\" r=\"12.1616\" stroke=\"#FF5158\" stroke-width=\"1.30303\"/><rect x=\"8\" y=\"8\" width=\"10\" height=\"10\" rx=\"2\" fill=\"#FF5158\"/></svg>';\r\nexport const recordingIcon = '<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><g filter=\"url(#filter0_d_2_1040)\"><circle cx=\"12\" cy=\"12\" r=\"5\" fill=\"#FF5158\"/></g><defs><filter id=\"filter0_d_2_1040\" x=\"0\" y=\"0\" width=\"24\" height=\"24\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\"><feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/><feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/><feOffset/><feGaussianBlur stdDeviation=\"3.5\"/><feComposite in2=\"hardAlpha\" operator=\"out\"/><feColorMatrix type=\"matrix\" values=\"0 0 0 0 1 0 0 0 0 0.154167 0 0 0 0 0.154167 0 0 0 0.3 0\"/><feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow_2_1040\"/><feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect1_dropShadow_2_1040\" result=\"shape\"/></filter></defs></svg>';\r\nexport const muteIcon = '<svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14 18.0833C16.5783 18.0833 18.6667 15.995 18.6667 13.4166V6.99998C18.6667 4.42165 16.5783 2.33331 14 2.33331C11.4217 2.33331 9.33334 4.42165 9.33334 6.99998V13.4166C9.33334 15.995 11.4217 18.0833 14 18.0833Z\" stroke=\"#5150AE\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/><path d=\"M5.075 11.2583V13.2416C5.075 18.165 9.07666 22.1666 14 22.1666M14 22.1666C18.9233 22.1666 22.925 18.165 22.925 13.2416V11.2583M14 22.1666V25.6666M12.3783 7.50164C13.4283 7.11664 14.5717 7.11664 15.6217 7.50164M13.0667 9.97497C13.685 9.81164 14.3267 9.81164 14.945 9.97497\" stroke=\"#5150AE\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg>';\r\nexport const unmuteIcon = '<svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M18.6667 7.34998V6.99998C18.6667 4.42165 16.5783 2.33331 14 2.33331C11.4217 2.33331 9.33334 4.42165 9.33334 6.99998V12.8333M10.5467 16.555C11.3983 17.5 12.635 18.0833 14 18.0833C16.5783 18.0833 18.6667 15.995 18.6667 13.4166V12.8333\" stroke=\"#5B626E\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/><path d=\"M7.91 19.775C9.18297 20.959 10.7738 21.7457 12.4873 22.0387C14.2009 22.3318 15.9627 22.1184 17.5568 21.4248C19.1508 20.7312 20.5078 19.5875 21.4614 18.1339C22.415 16.6804 22.9236 14.9801 22.925 13.2417V11.2584M5.075 11.2584V13.2417C5.075 14.4784 5.32 15.645 5.775 16.7184M23.415 3.31335L4.585 22.155M12.8333 3.50002V7.00002M14 22.1667V25.6667\" stroke=\"#5B626E\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg>';\r\nexport const submitIcon = '<svg width=\"25\" height=\"17\" viewBox=\"0 0 25 17\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.0597 3.044L5.71304 7.39067C5.19971 7.904 5.19971 8.744 5.71304 9.25734L10.0597 13.604\" stroke=\"white\" stroke-width=\"1.18667\" stroke-miterlimit=\"10\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/><path d=\"M18.7416 3.044L14.3949 7.39067C13.8816 7.904 13.8816 8.744 14.3949 9.25734L18.7416 13.604\" stroke=\"white\" stroke-opacity=\"0.7\" stroke-width=\"1.18667\" stroke-miterlimit=\"10\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg>';\r\nexport const avatarIcon = '<svg height=\"800px\" width=\"800px\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 480 480\" xml:space=\"preserve\"><g>\\t<g>\\t\\t<circle style=\"fill:#B8BAC0;\" cx=\"240\" cy=\"240\" r=\"240\"/>\\t</g>\\t<g>\\t\\t<g>\\t\\t\\t<path style=\"fill:#FFFFFF;\" d=\"M240,360.07c-27.944,0-53.297-11.991-72.003-31.372c-0.014,11.615-0.436,28.379-3.516,40.611\\t\\t\\t\\tc2.02,1.235,3.588,3.262,3.894,5.784c3.992,32.484,34.781,56.977,71.625,56.977c36.836,0,67.625-24.496,71.625-56.977\\t\\t\\t\\tc0.31-2.525,1.844-4.549,3.895-5.78c-3.08-12.233-3.503-28.999-3.517-40.615C293.297,348.079,267.944,360.07,240,360.07z\"/>\\t\\t</g>\\t</g>\\t<g>\\t\\t<g>\\t\\t\\t<path style=\"fill:#D7DBE0;\" d=\"M310.44,330.174c-18.549,18.477-43.242,29.896-70.44,29.896\\t\\t\\t\\tc-27.944,0-53.297-11.991-72.003-31.372c-0.014,11.615-0.436,28.379-3.516,40.611c2.02,1.235,3.588,3.262,3.894,5.784\\t\\t\\t\\tc1.765,14.359,8.778,27.144,19.223,36.954C235.766,405.265,290.437,357.702,310.44,330.174z\"/>\\t\\t</g>\\t</g>\\t<g>\\t\\t<g>\\t\\t\\t<path style=\"fill:#FFFFFF;\" d=\"M312,160.07H176c-22.055,0-40,17.945-40,40v48c0,61.758,46.656,112,104,112s104-50.242,104-112\\t\\t\\t\\tv-56C344,174.426,329.648,160.07,312,160.07z\"/>\\t\\t</g>\\t</g>\\t<g>\\t\\t<g>\\t\\t\\t<path style=\"fill:#5C546A;\" d=\"M296,72.07H192c-15.047,0-27.695,10.438-31.102,24.449C133.359,100.02,112,123.598,112,152.07v40\\t\\t\\t\\tc0,20.617,8.752,39.851,24,53.52v-45.52c0-22.055,17.945-40,40-40h136c17.648,0,32,14.355,32,32v53.511\\t\\t\\t\\tc15.251-13.667,24-32.899,24-53.511v-48C368,104.371,335.703,72.07,296,72.07z\"/>\\t\\t</g>\\t</g>\\t<g>\\t\\t<path style=\"fill:#5C546A;\" d=\"M61.632,400.544C105.562,449.319,169.191,480,240,480s134.438-30.681,178.368-79.456\\t\\t\\tc-7.66-10.356-18.462-18.77-32.352-22.659c-0.32-0.09-0.641-0.16-0.969-0.207l-63.859-9.582c-0.391-0.059-1.227-0.09-1.625-0.09\\t\\t\\tc-4.039,0-7.445,3.012-7.938,7.023c-4,32.48-34.789,56.977-71.625,56.977c-36.844,0-67.633-24.492-71.625-56.977\\t\\t\\tc-0.5-4.129-4.219-7.234-8.141-7.02c-0.469-0.027-0.93,0.012-1.422,0.086l-63.859,9.582c-0.328,0.047-0.648,0.117-0.969,0.207\\t\\t\\tC80.094,381.775,69.292,390.188,61.632,400.544z\"/>\\t</g></g></svg>'\r\nexport const attachmentIcon = '<svg width=\"15\" height=\"16\" viewBox=\"0 0 15 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.4 7.99999L8.2592 14.1408C7.40677 14.9713 6.26151 15.4327 5.0714 15.4249C3.88129 15.4172 2.74213 14.941 1.90058 14.0994C1.05903 13.2579 0.582822 12.1187 0.575078 10.9286C0.567333 9.73849 1.02867 8.59322 1.8592 7.74079L8.18347 1.41652C8.74926 0.850728 9.51665 0.532867 10.3168 0.532867C11.117 0.532867 11.8843 0.850728 12.4501 1.41652C13.0159 1.98232 13.3338 2.7497 13.3338 3.54986C13.3338 4.35001 13.0159 5.11739 12.4501 5.68319L6.30827 11.8251C6.02537 12.108 5.64168 12.2669 5.2416 12.2669C4.84152 12.2669 4.45783 12.108 4.17493 11.8251C3.89204 11.5422 3.73311 11.1585 3.73311 10.7584C3.73311 10.3583 3.89204 9.97462 4.17493 9.69172L10.1333 3.73332\" stroke=\"#888E95\"/></svg>'","import {maskIcon, muteIcon, recordIcon, recordingIcon, stopRecordIcon, unmuteIcon} from './svg.js';\r\n\r\n// wrapper element\r\nconst wrapper = document.createElement('div');\r\n// Timer element\r\nconst timerWrapper = document.createElement('div');\r\nconst timerElement = document.createElement('span');\r\n// Close Element\r\nconst closeButton = document.createElement('span');\r\n// Mic Element\r\nconst muteWrapper = document.createElement('div');\r\nconst muteStartButton = document.createElement('span');\r\nconst muteStopButton = document.createElement('span');\r\n// Mask Element\r\nconst maskWrapper = document.createElement('div');\r\nconst maskStartButton = document.createElement('span');\r\nconst maskStopButton = document.createElement('span');\r\n// Record Elements\r\nconst recordWrapper = document.createElement('div');\r\nconst recordingButton = document.createElement('span');\r\nconst startRecordButton = document.createElement('span');\r\nconst stopRecordButton = document.createElement('span');\r\n// Blink timeout variable\r\nlet blinkIntervalId;\r\nconst mouseEnterWrapper = () => {\r\n  // Show close button\r\n  closeButton.style.visibility = 'visible';\r\n  closeButton.style.opacity = '1';\r\n};\r\nconst mouseOutWrapper = () => {\r\n  // Hide close button\r\n  closeButton.style.visibility = 'hidden';\r\n  closeButton.style.opacity = '0';\r\n};\r\nconst blinkStopButton = () => {\r\n  blinkIntervalId = setInterval(() => {\r\n    const opacity = getComputedStyle(recordingButton).opacity;\r\n    if (opacity === '1') recordingButton.style.opacity = '0';\r\n    else recordingButton.style.opacity = '1';\r\n  }, 500);\r\n};\r\nconst finalizedElements = async () => {\r\n  // Initial wrapper\r\n  const initWrapper = new Promise((resolve) => {\r\n    // Wrapper styles\r\n    wrapper.style.position = 'fixed';\r\n    wrapper.style.left = '25px';\r\n    wrapper.style.bottom = '25px';\r\n    wrapper.style.height = '55px';\r\n    wrapper.style.backgroundColor = 'rgba(256, 256, 256, 1)';\r\n    wrapper.style.border = '1px solid #8685E0';\r\n    wrapper.style.borderRadius = '6px';\r\n    wrapper.style.padding = '10px 20px';\r\n    wrapper.style.display = 'flex';\r\n    wrapper.style.alignItems = 'center';\r\n    wrapper.style.color = 'black';\r\n    wrapper.style.fontFamily = '\"Roboto mono\",monospace';\r\n    wrapper.style.fontSize = '20px';\r\n    wrapper.style.direction = 'ltr';\r\n    // Hover wrapper\r\n    wrapper.addEventListener('mouseover', mouseEnterWrapper);\r\n    wrapper.addEventListener('mouseout', mouseOutWrapper);\r\n    resolve(wrapper);\r\n  });\r\n  // Finalize timer\r\n  const initTimerWrapper = new Promise((resolve)=>{\r\n    // Timer ID\r\n    timerWrapper.setAttribute('id', 'rs-timer-wrapper');\r\n    // Timer styles\r\n    timerWrapper.style.margin = '0 20px 0 0';\r\n    timerWrapper.style.display = 'flex';\r\n    timerWrapper.style.alignItems = 'center';\r\n    timerWrapper.style.lineHeight = '1.2';\r\n    timerWrapper.style.position = 'relative';\r\n    // Append to wrapper\r\n    wrapper.appendChild(timerWrapper);\r\n    resolve(true);\r\n  })\r\n  const initTimer = new Promise((resolve) => {\r\n    // Timer ID\r\n    timerElement.setAttribute('id', 'rs-timer');\r\n    // Timer styles\r\n    timerElement.style.fontSize = '20px';\r\n    timerElement.innerText = '00:00';\r\n    // Append to wrapper\r\n    timerWrapper.appendChild(timerElement);\r\n    resolve(timerElement);\r\n  });\r\n  // Initial recording button\r\n  const initRecordingButton = new Promise((resolve)=>{\r\n    recordingButton.setAttribute('id','rs-recording');\r\n    recordingButton.style.opacity = '0';\r\n    recordingButton.style.transition = 'all .3s ease';\r\n    recordingButton.style.position = 'absolute';\r\n    recordingButton.style.right = '-20px';\r\n    recordingButton.style.lineHeight = '1';\r\n    recordingButton.innerHTML = recordingIcon;\r\n    timerWrapper.appendChild(recordingButton);\r\n    resolve(true);\r\n  })\r\n  // Initial record wrapper\r\n  const initRecordWrapper = new Promise((resolve) => {\r\n    recordWrapper.setAttribute('id', 'rs-record-wrapper');\r\n    recordWrapper.style.marginLeft = '15px';\r\n    recordWrapper.style.display = 'flex';\r\n    recordWrapper.style.alignItems = 'center';\r\n    recordWrapper.style.justifyContent = 'center';\r\n    wrapper.appendChild(recordWrapper);\r\n    resolve(true);\r\n  });\r\n  const initStartRecordButton = new Promise((resolve) => {\r\n    startRecordButton.setAttribute('id', 'rs-start-record');\r\n    startRecordButton.innerHTML = recordIcon;\r\n    startRecordButton.style.cursor = 'pointer';\r\n    startRecordButton.style.lineHeight = '1';\r\n    recordWrapper.appendChild(startRecordButton);\r\n    resolve(true);\r\n  });\r\n  const initStopRecordButton = new Promise((resolve) => {\r\n    stopRecordButton.setAttribute('id', 'rs-stop-record');\r\n    stopRecordButton.innerHTML = stopRecordIcon;\r\n    stopRecordButton.style.cursor = 'pointer';\r\n    stopRecordButton.style.lineHeight = '1';\r\n    resolve(true);\r\n  });\r\n  // Initial mute wrapper\r\n  const initMuteWrapper = new Promise((resolve) => {\r\n    muteWrapper.setAttribute('id', 'rs-mute-wrapper');\r\n    muteWrapper.style.margin = '0 15px';\r\n    muteWrapper.style.display = 'flex';\r\n    muteWrapper.style.alignItems = 'center';\r\n    muteWrapper.style.justifyContent = 'center';\r\n    wrapper.appendChild(muteWrapper);\r\n    resolve(true);\r\n  });\r\n  const initMuteStartButton = new Promise((resolve) => {\r\n    // Mask start button ID\r\n    muteStartButton.setAttribute('id', 'rs-mute-start');\r\n    muteStartButton.innerHTML = muteIcon;\r\n    muteStartButton.style.cursor = 'not-allowed';\r\n    muteStartButton.style.lineHeight = '1';\r\n    muteWrapper.appendChild(muteStartButton);\r\n    resolve(true);\r\n  });\r\n  const initMuteStopButton = new Promise((resolve) => {\r\n    // Mask stop button ID\r\n    muteStopButton.setAttribute('id', 'rs-mute-stop');\r\n    muteStopButton.innerHTML = unmuteIcon;\r\n    muteStopButton.style.cursor = 'not-allowed';\r\n    muteStopButton.style.lineHeight = '1';\r\n    resolve(true);\r\n  });\r\n  // Initial mask wrapper\r\n  const initMaskWrapper = new Promise((resolve) => {\r\n    // Mask wrapper ID\r\n    maskWrapper.setAttribute('id', 'rs-mask');\r\n    // Mask wrapper style\r\n    maskWrapper.style.display = 'flex';\r\n    maskWrapper.style.alignItems = 'center';\r\n    maskWrapper.style.paddingLeft = '15px';\r\n    maskWrapper.style.borderLeft = '1px solid #C9C9C9';\r\n    // Append to wrapper\r\n    wrapper.appendChild(maskWrapper);\r\n    resolve(true);\r\n  });\r\n  const initMaskStartButton = new Promise((resolve) => {\r\n    // Mask start button ID\r\n    maskStartButton.setAttribute('id', 'rs-mask-start');\r\n    maskStartButton.innerHTML = maskIcon;\r\n    maskStartButton.style.cursor = 'pointer';\r\n    maskStartButton.style.lineHeight = '1';\r\n    maskWrapper.appendChild(maskStartButton);\r\n    resolve(true);\r\n  });\r\n  const initMaskStopButton = new Promise((resolve) => {\r\n    // Mask stop button ID\r\n    maskStopButton.setAttribute('id', 'rs-mask-stop');\r\n    maskStopButton.innerHTML = maskIcon;\r\n    maskStopButton.style.cursor = 'pointer';\r\n    maskStopButton.style.lineHeight = '1';\r\n    resolve(true);\r\n  });\r\n  // Initial close button\r\n  const initCloseButton = new Promise((resolve) => {\r\n    // Close button ID\r\n    closeButton.setAttribute('id', 'rs-close');\r\n    // Close button styles\r\n    closeButton.style.height = '16px';\r\n    closeButton.style.width = '16px';\r\n    closeButton.style.cursor = 'pointer';\r\n    closeButton.style.position = 'absolute';\r\n    closeButton.style.right = '0';\r\n    closeButton.style.top = '0';\r\n    closeButton.style.transform = 'translate(6px, -6px)';\r\n    closeButton.style.border = '1px solid black';\r\n    closeButton.style.backgroundColor = 'white';\r\n    closeButton.style.borderRadius = '50%';\r\n    closeButton.style.color = 'black';\r\n    closeButton.style.fontSize = '8px';\r\n    closeButton.style.display = 'flex';\r\n    closeButton.style.alignItems = 'center';\r\n    closeButton.style.justifyContent = 'center';\r\n    closeButton.style.transition = 'all .3s ease';\r\n    closeButton.style.visibility = 'hidden';\r\n    closeButton.style.opacity = '0';\r\n    closeButton.innerText = '✖';\r\n    // Append to wrapper\r\n    wrapper.appendChild(closeButton);\r\n    resolve(true);\r\n  });\r\n  // Append wrapper to body\r\n  const appendToBody = new Promise((resolve) => {\r\n    document.body.appendChild(wrapper);\r\n    resolve(true);\r\n  });\r\n  return Promise.all([\r\n    initWrapper,\r\n\r\n    initTimerWrapper,\r\n    initTimer, // index[2] for resolve\r\n\r\n    initRecordingButton,\r\n\r\n    initRecordWrapper,\r\n    initStartRecordButton,\r\n    initStopRecordButton,\r\n\r\n    initMuteWrapper,\r\n    initMuteStartButton,\r\n    initMuteStopButton,\r\n\r\n    initMaskWrapper,\r\n    initMaskStartButton,\r\n    initMaskStopButton,\r\n\r\n    initCloseButton,\r\n    appendToBody,\r\n  ]);\r\n};\r\nexport const createElement = async (closeElement, startRecord, stopRecord, startMask, stopMask) => {\r\n  maskStartButton.onclick = () => {\r\n    startMask(true);\r\n    maskStartButton.remove();\r\n    maskWrapper.appendChild(maskStopButton);\r\n  };\r\n  maskStopButton.onclick = () => {\r\n    stopMask(true);\r\n    maskStopButton.remove();\r\n    maskWrapper.appendChild(maskStartButton);\r\n  };\r\n  closeButton.onclick = () => closeElement(true);\r\n  startRecordButton.onclick = () => {\r\n    startRecord(true);\r\n    startRecordButton.remove();\r\n    recordWrapper.appendChild(stopRecordButton);\r\n    blinkStopButton();\r\n  };\r\n  stopRecordButton.onclick = () => {\r\n    stopRecord(true);\r\n    stopRecordButton.remove();\r\n    recordWrapper.appendChild(startRecordButton);\r\n    clearInterval(blinkIntervalId);\r\n  };\r\n  // Return created element\r\n  return new Promise((resolve) => finalizedElements().then(response => resolve(response[2])));\r\n};\r\nexport const destroyElement = () => {\r\n  clearInterval(blinkIntervalId);\r\n  wrapper.remove();\r\n  timerWrapper.remove();\r\n  timerElement.remove();\r\n  closeButton.remove();\r\n  muteWrapper.remove();\r\n  muteStartButton.remove();\r\n  muteStopButton.remove();\r\n  maskWrapper.remove();\r\n  maskStartButton.remove();\r\n  maskStopButton.remove();\r\n  recordWrapper.remove();\r\n  recordingButton.remove();\r\n  startRecordButton.remove();\r\n  stopRecordButton.remove();\r\n};","class Observable {\r\n  constructor() {\r\n    this.observers = [];\r\n  }\r\n\r\n  subscribe(fn) {\r\n    this.observers.push(fn);\r\n  }\r\n\r\n  unsubscribe(fn) {\r\n    this.observers = this.observers.filter(subscriber => subscriber !== fn);\r\n  }\r\n\r\n  fire(data) {\r\n    this.observers.forEach(observer => observer(data));\r\n  }\r\n}\r\n\r\nexport default new Observable();\r\n","const fade = document.createElement('div');\r\nconst modal = document.createElement('div');\r\nconst header = document.createElement('div');\r\nconst closeButton = document.createElement('span');\r\nconst content = document.createElement('div');\r\nconst body = document.querySelector('body');\r\nconst addFontFace = () => {\r\n  const link = document.createElement('link');\r\n  link.setAttribute('rel', 'stylesheet');\r\n  link.setAttribute('type', 'text/css');\r\n  link.setAttribute('href', 'https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css');\r\n  document.head.appendChild(link);\r\n  return true;\r\n};\r\nconst createFade = () => {\r\n  fade.style.position = 'fixed';\r\n  fade.style.inset = '0 0 0 0';\r\n  fade.style.backgroundColor = 'rgba(0, 0, 0, .75)';\r\n  fade.style.zIndex = '1';\r\n  fade.style.display = 'none';\r\n  body.appendChild(fade);\r\n  return fade;\r\n};\r\nconst createModal = () => {\r\n  modal.style.fontFamily = 'Vazirmatn, sans-serif';\r\n  modal.style.position = 'absolute';\r\n  modal.style.borderRadius = '24px';\r\n  modal.style.width = '600px';\r\n  modal.style.height = 'auto';\r\n  modal.style.inset = '50% 0 auto 0';\r\n  modal.style.marginRight = 'auto';\r\n  modal.style.marginLeft = 'auto';\r\n  modal.style.transform = 'translateY(-50%)';\r\n  modal.style.backgroundColor = 'rgba(255, 255, 255, 1)';\r\n  modal.style.zIndex = '2';\r\n  fade.appendChild(modal);\r\n  return modal;\r\n};\r\nconst createHeader = () => {\r\n  header.style.padding = '26px 30px';\r\n  header.style.display = 'flex';\r\n  header.style.justifyContent = 'space-between';\r\n  modal.appendChild(header);\r\n  return header;\r\n};\r\nconst createCloseButton = () => {\r\n  closeButton.setAttribute('id', 'rs-close');\r\n  closeButton.style.height = '12px';\r\n  closeButton.style.width = '12px';\r\n  closeButton.style.display = 'inline-flex';\r\n  closeButton.style.alignItems = 'center';\r\n  closeButton.style.justifyContent = 'center';\r\n  closeButton.style.cursor = 'pointer';\r\n  closeButton.innerHTML = `<svg viewBox='0 0 12 12' xmlns='http://www.w3.org/2000/svg'><line x1='1' y1='11' x2='11' y2='1' stroke='black' stroke-width='2' /><line x1='1' y1='1' x2='11' y2='11' stroke='black' stroke-width='2' /></svg>`;\r\n  closeButton.onclick = () => hideModal();\r\n  header.appendChild(closeButton);\r\n  return closeButton;\r\n};\r\nconst createContent = () => {\r\n  content.setAttribute('id', 'rs-modal-content');\r\n  content.style.padding = '26px 30px';\r\n  modal.appendChild(content);\r\n  return content;\r\n};\r\nconst init = async () => {\r\n  const initialFontFace = new Promise((resolve) => resolve(addFontFace()));\r\n  const initialFade = new Promise((resolve) => resolve(createFade()));\r\n  const initialModal = new Promise((resolve) => resolve(createModal()));\r\n  const initialHeader = new Promise((resolve) => resolve(createHeader()));\r\n  const initialCloseButton = new Promise((resolve) => resolve(createCloseButton()));\r\n  const initialContent = new Promise((resolve) => resolve(createContent()));\r\n  return Promise.all([initialContent, initialFontFace, initialHeader, initialFade, initialModal, initialCloseButton]);\r\n};\r\nconst initialModal = async () => new Promise(resolve => init().then(response => resolve(response[0])));\r\nexport const showModal = () => {\r\n  body.style.overflow = 'hidden';\r\n  fade.style.display = 'block';\r\n};\r\nexport const hideModal = () => {\r\n  body.removeAttribute('overflow');\r\n  fade.remove();\r\n  modal.remove();\r\n  header.innerHTML = '';\r\n  header.remove();\r\n  closeButton.remove();\r\n  content.innerHTML = '';\r\n  content.remove();\r\n};\r\nexport const addTitle = (title) => header.insertBefore(title, closeButton);\r\nexport default initialModal;","import initialModal, {addTitle, showModal} from './modal.js';\r\nimport {attachmentIcon, avatarIcon, submitIcon} from './svg.js';\r\n\r\n/* todo add validation for form */\r\n/* todo add loading for submit button */\r\n\r\nconst storeValues = {};\r\n\r\nconst onChangeValue = (event) => {\r\n  const {name, value} = event.target;\r\n  storeValues[name] = value;\r\n  console.log({name, value});\r\n};\r\nconst completeRequest = ({fullName, email, avatar}, {fileSize, fileName}, onSubmit) => {\r\n  initialModal().then((modalContent) => {\r\n    createModalContent({fullName, email, avatar}, {\r\n      fileSize,\r\n      fileName,\r\n    }, onSubmit).then(([content, title, footer]) => {\r\n      modalContent.appendChild(content).appendChild(footer);\r\n      addTitle(title);\r\n      showModal();\r\n    });\r\n  });\r\n};\r\n// Modal Sections\r\nconst createModalContent = async ({fullName, email, avatar}, {fileSize, fileName}, onSubmit) => {\r\n  const content = new Promise((resolve) => resolve(createContent({fullName, email, avatar})));\r\n  const title = new Promise((resolve) => resolve(createTitle()));\r\n  const footer = new Promise((resolve) => resolve(createFooter({fileSize, fileName}, onSubmit)));\r\n  return Promise.all([content, title, footer]);\r\n};\r\nconst createContent = ({fullName, email, avatar}) => {\r\n  const content = document.createElement('div');\r\n  content.appendChild(createForm({fullName, email, avatar}));\r\n  return content;\r\n};\r\nconst createTitle = () => {\r\n  const title = document.createElement('h1');\r\n  title.style.fontSize = '20px';\r\n  title.innerText = 'ارسال بازخورد';\r\n  return title;\r\n};\r\nconst createFooter = ({fileSize, fileName},onSubmit) => {\r\n  const footer = document.createElement('div');\r\n  footer.style.display = 'flex';\r\n  footer.style.justifyContent = 'space-between';\r\n  footer.style.alignItems = 'center';\r\n  // Attachment\r\n  const attachmentWrapper = document.createElement('div');\r\n  attachmentWrapper.style.display = 'flex';\r\n  attachmentWrapper.style.alignItems = 'center';\r\n  // Attachment Icon\r\n  const icon = document.createElement('span');\r\n  icon.innerHTML = attachmentIcon;\r\n  attachmentWrapper.appendChild(icon);\r\n  // Attachment Name\r\n  const attachmentName = document.createElement('span');\r\n  attachmentName.style.marginRight = '.5rem';\r\n  attachmentName.style.direction = 'ltr';\r\n  attachmentName.style.fontSize = '.75rem';\r\n  attachmentName.innerText = `${fileName}.mp4`;\r\n  attachmentWrapper.appendChild(attachmentName)\r\n  // Attachment Time\r\n  const attachmentSize = document.createElement('span');\r\n  attachmentSize.style.marginRight = '.5rem';\r\n  attachmentSize.style.direction = 'ltr';\r\n  attachmentSize.style.fontSize = '.75rem';\r\n  attachmentSize.style.color = '#646464'\r\n  attachmentSize.innerText = fileSize;\r\n  attachmentWrapper.appendChild(attachmentSize)\r\n  footer.appendChild(attachmentWrapper);\r\n  // Button Element\r\n  const button = document.createElement('button');\r\n  button.style.textAlign = 'center';\r\n  button.style.whiteSpace = 'nowrap';\r\n  button.style.padding = '0.375rem 0.75rem';\r\n  button.style.color = '#FFF';\r\n  // Accept Button\r\n  const acceptButton = button.cloneNode(true);\r\n  const acceptButtonText = document.createElement('span');\r\n  const acceptButtonIcon = document.createElement('span');\r\n  acceptButtonText.innerText = 'ارسال بازخورد';\r\n  acceptButtonIcon.innerHTML = submitIcon;\r\n  acceptButton.appendChild(acceptButtonText);\r\n  acceptButton.appendChild(acceptButtonIcon);\r\n  acceptButton.style.backgroundColor = '#3A86F2';\r\n  acceptButton.style.border = '1px solid #3A86F2';\r\n  acceptButton.style.borderRadius = '10px';\r\n  acceptButton.onclick = () => onSubmit(storeValues);\r\n  footer.appendChild(acceptButton);\r\n  return footer;\r\n};\r\n// Form and Inputs\r\nconst createInput = (row, col, inputLabel, label, name, initialValue, hasPlaceholder) => {\r\n  // Input\r\n  const input = document.createElement('input');\r\n  //// Input styles\r\n  input.style.width = '100%';\r\n  input.style.height = '2rem';\r\n  //// Input properties\r\n  input.setAttribute('id', name);\r\n  input.setAttribute('name', name);\r\n  input.setAttribute('type', 'text');\r\n  if (hasPlaceholder) input.setAttribute('placeholder', label);\r\n  input.style.border = '1px solid #E1E1E1';\r\n  input.style.borderRadius = '6px';\r\n  input.style.outline = 'none';\r\n  input.style.height = '36px';\r\n  input.style.lineHeight = '36px';\r\n  input.style.on = '36px';\r\n  input.onchange = onChangeValue;\r\n  if (initialValue) input.value = initialValue;\r\n\r\n  input.addEventListener('focus', function () {\r\n    this.style.borderColor = '#5150AE';\r\n  });\r\n\r\n  // Label\r\n  inputLabel.innerText = label;\r\n  inputLabel.setAttribute('for', name);\r\n  // Input and Label append to col\r\n  col.appendChild(inputLabel);\r\n  col.appendChild(input);\r\n  // Col append to wrapper\r\n  row.appendChild(col);\r\n};\r\n/*const createSelect = (row, col, selectLabel, options, label, name) => {\r\n // Select\r\n const select = document.createElement('select');\r\n //// Select styles\r\n select.style.width = '100%';\r\n select.style.height = '2rem';\r\n //// Select property\r\n select.setAttribute('id', name);\r\n select.setAttribute('name', name);\r\n select.onchange = onChangeValue;\r\n // Options\r\n const option = document.createElement('option');\r\n options.forEach(item => {\r\n const clone = option.cloneNode(true);\r\n clone.value = item.value;\r\n clone.innerText = item.label;\r\n select.appendChild(clone);\r\n });\r\n // Label\r\n selectLabel.innerText = label;\r\n selectLabel.setAttribute('for', name);\r\n // Select and Label append to col\r\n col.appendChild(selectLabel);\r\n col.appendChild(select);\r\n // Col append to wrapper\r\n row.appendChild(col);\r\n };*/\r\nconst createRadio = (row, col, options, active, label, name) => {\r\n\r\n  // Create label\r\n  const span = document.createElement('span');\r\n  const groupLabel = span.cloneNode(true);\r\n  groupLabel.innerText = `${label}:`;\r\n  groupLabel.style.display = 'inline-block';\r\n  groupLabel.style.marginLeft = '10px';\r\n\r\n  // Create radio input\r\n  const input = document.createElement('input');\r\n  input.setAttribute('type', 'radio');\r\n  input.setAttribute('name', name);\r\n  input.style.visibility = 'hidden';\r\n  input.style.position = 'absolute';\r\n\r\n  // Create radio label\r\n  const radioLabel = document.createElement('label');\r\n  radioLabel.style.marginLeft = '10px';\r\n  radioLabel.style.height = '24px';\r\n  radioLabel.style.border = `1px solid #D0D0D0`;\r\n  radioLabel.style.padding = '0 8px';\r\n  radioLabel.style.lineHeight = '24px';\r\n  radioLabel.style.borderRadius = '6px';\r\n  radioLabel.style.fontSize = '80%';\r\n  radioLabel.style.display = 'inline-flex';\r\n  radioLabel.style.alignItems = 'center';\r\n\r\n  // Create badge\r\n  const badge = span.cloneNode(true);\r\n  badge.style.display = 'inline-block';\r\n  badge.style.height = '8px';\r\n  badge.style.width = '8px';\r\n  badge.style.borderRadius = '50%';\r\n\r\n  // Wrapper\r\n  const div = document.createElement('div');\r\n  div.style.display = 'flex';\r\n  div.style.alignItems = 'center';\r\n  div.style.position = 'relative';\r\n  div.appendChild(groupLabel);\r\n\r\n  // Reset all label styles to default\r\n  const resetLabelsStyle = () => {\r\n    options.forEach((item) => {\r\n      const label = document.querySelector(`label[for=\"id-${name}-${item.value}\"]`);\r\n      label.style.borderColor = '#D0D0D0';\r\n    });\r\n  };\r\n  const changeLabelStyle = (input, label) => {\r\n    if (input.checked) {\r\n      label.style.borderColor = '#5150AE';\r\n    } else {\r\n      label.style.borderColor = '#D0D0D0';\r\n    }\r\n  };\r\n\r\n  options.forEach((item, index) => {\r\n\r\n    const cloneInput = input.cloneNode(true);\r\n    cloneInput.value = item.value;\r\n    cloneInput.setAttribute('id', `id-${name}-${item.value}`);\r\n\r\n    const cloneLabel = radioLabel.cloneNode(true);\r\n\r\n    if (item.color) {\r\n      const cloneBadge = badge.cloneNode(true);\r\n      cloneBadge.style.backgroundColor = item.color;\r\n      cloneBadge.style.marginLeft = '5px';\r\n      cloneLabel.appendChild(cloneBadge);\r\n    }\r\n\r\n    if (index === active ?? 0) {\r\n      cloneInput.setAttribute('checked', 'checked');\r\n      cloneLabel.style.borderColor = '#5150AE';\r\n    }\r\n\r\n    const cloneSpan = span.cloneNode(true);\r\n    cloneSpan.innerText = item.label;\r\n\r\n    cloneLabel.appendChild(cloneSpan);\r\n    cloneLabel.setAttribute('for', `id-${name}-${item.value}`);\r\n\r\n    div.appendChild(cloneInput);\r\n    div.appendChild(cloneLabel);\r\n    cloneInput.onclick = () => {\r\n      resetLabelsStyle();\r\n      changeLabelStyle(cloneInput, cloneLabel);\r\n    };\r\n  });\r\n\r\n  col.appendChild(div);\r\n  // Col append to wrapper\r\n  row.appendChild(col);\r\n};\r\nconst createTextArea = (row, col, textAreaLabel, label, name, hasPlaceholder) => {\r\n  // TextArea\r\n  const textArea = document.createElement('textarea');\r\n  //// TextArea styles\r\n  textArea.style.width = '100%';\r\n  //// TextArea property\r\n  textArea.setAttribute('id', name);\r\n  textArea.setAttribute('name', name);\r\n  textArea.setAttribute('rows', '6');\r\n  if (hasPlaceholder) textArea.setAttribute('placeholder', label);\r\n  textArea.style.border = '1px solid #E1E1E1';\r\n  textArea.style.borderRadius = '6px';\r\n  textArea.style.outline = 'none';\r\n  textArea.onchange = onChangeValue;\r\n\r\n  textArea.addEventListener('focus', function () {\r\n    this.style.borderColor = '#5150AE';\r\n  });\r\n\r\n  // Label\r\n  textAreaLabel.innerText = label;\r\n  textAreaLabel.setAttribute('for', name);\r\n  // TextArea and Label append to col\r\n  col.appendChild(textAreaLabel);\r\n  col.appendChild(textArea);\r\n  // Col append to wrapper\r\n  row.appendChild(col);\r\n};\r\nconst createSenderInformation = (row, col, label, {fullName, avatar, email}) => {\r\n  const div = document.createElement('div');\r\n  div.style.marginBottom = '1rem';\r\n  div.style.display = 'flex';\r\n  div.style.alignItems = 'center';\r\n  const span = document.createElement('span');\r\n  // Label\r\n  const labelSpan = span.cloneNode(true);\r\n  labelSpan.innerText = label + ':';\r\n  labelSpan.style.display = 'inline-block';\r\n  labelSpan.style.marginLeft = '15px';\r\n  // Avatar\r\n  const localAvatar = avatarIcon;\r\n  const img = document.createElement('img');\r\n  img.setAttribute('alt', 'avatar');\r\n  img.setAttribute('width', '36');\r\n  img.setAttribute('height', '36');\r\n  img.setAttribute('src', avatar ?? 'data:image/svg+xml;base64,' + btoa(localAvatar));\r\n  img.style.borderRadius = '50%';\r\n  img.style.marginLeft = '15px';\r\n  // Information\r\n  const infoSpan = span.cloneNode(true);\r\n  infoSpan.style.display = 'inline-flex';\r\n  infoSpan.style.flexDirection = 'column';\r\n  // Full name\r\n  const fullNameSpan = span.cloneNode(true);\r\n  fullNameSpan.style.fontSize = '11px';\r\n  fullNameSpan.style.color = '#7B7B7B';\r\n  fullNameSpan.innerText = fullName;\r\n  // Email\r\n  const emailSpan = span.cloneNode(true);\r\n  emailSpan.innerText = email;\r\n  emailSpan.style.fontSize = '12px';\r\n\r\n  infoSpan.appendChild(emailSpan);\r\n  infoSpan.appendChild(fullNameSpan);\r\n\r\n  div.appendChild(labelSpan);\r\n  div.appendChild(img);\r\n  div.appendChild(infoSpan);\r\n\r\n  col.appendChild(div);\r\n  row.appendChild(col);\r\n};\r\nconst createRadioWrapper = (row, col) => {\r\n  const div = document.createElement('div');\r\n  const container = div.cloneNode(true);\r\n  const wrapper = div.cloneNode(true);\r\n  wrapper.style.display = 'flex';\r\n  wrapper.style.alignItems = 'center';\r\n  wrapper.style.justifyContent = 'space-between';\r\n  const innerCol = div.cloneNode(true);\r\n\r\n  // kind\r\n  //// Bug: 1\r\n  const kindOptions = [\r\n    {label: 'باگ', value: '1', color: '#EF0303'},\r\n    {label: 'گزارش', value: '2', color: '#0FE800'},\r\n  ];\r\n  // createSelect(row, col.cloneNode(true), inputLabel.cloneNode(true), options, 'اولویت', 'priority');\r\n  createRadio(wrapper, innerCol.cloneNode(true), kindOptions, 0, 'نوع بازخورد', 'kind');\r\n\r\n  // Priority\r\n  //// highest: 1\r\n  //// high: 2\r\n  //// medium: 3\r\n  //// low: 4\r\n  //// lowest: 5\r\n  //// critical: 6\r\n  const priorityOptions = [\r\n    {label: 'کم', value: '4', color: '#F79008'},\r\n    {label: 'متوسط', value: '3', color: '#2A70FE'},\r\n    {label: 'زیاد', value: '2', color: '#E14EB6'},\r\n  ];\r\n  createRadio(wrapper, innerCol.cloneNode(true), priorityOptions, 1, 'اولویت', 'priority');\r\n  container.appendChild(wrapper);\r\n  col.appendChild(container);\r\n  // Col append to wrapper\r\n  row.appendChild(col);\r\n};\r\nconst createForm = ({fullName, email, avatar}) => {\r\n  // Wrapper\r\n  const wrapper = document.createElement('div');\r\n  //// Wrapper styles\r\n  wrapper.style.width = '100%';\r\n  wrapper.style.paddingRight = '15px';\r\n  wrapper.style.paddingLeft = '15px';\r\n  wrapper.style.marginRight = 'auto';\r\n  wrapper.style.marginLeft = 'auto';\r\n  // Row\r\n  const row = document.createElement('div');\r\n  //// Row styles\r\n  row.style.display = 'flex';\r\n  row.style.flexWrap = 'wrap';\r\n  row.style.marginRight = '-30px';\r\n  row.style.marginLeft = '-30px';\r\n  row.style.marginBottom = '1rem';\r\n  wrapper.appendChild(row);\r\n  // Col\r\n  const col = document.createElement('div');\r\n  //// Col styles\r\n  col.style.position = 'relative';\r\n  col.style.width = '100%';\r\n  col.style.paddingRight = '15px';\r\n  col.style.paddingLeft = '15px';\r\n  col.style.maxWidth = '100%';\r\n  col.style.flexGrow = '1';\r\n  col.style.flexBasis = '0';\r\n  col.style.marginBottom = '1rem';\r\n  // Divider\r\n  const divider = document.createElement('div');\r\n  //// Divider styles\r\n  divider.style.width = '100%';\r\n  // Input Label\r\n  const inputLabel = document.createElement('label');\r\n  //// Input Label styles\r\n  inputLabel.style.marginBottom = '.5rem';\r\n  // Create sender information\r\n  createSenderInformation(row, col.cloneNode(true), 'فرستنده', {\r\n    fullName,\r\n    avatar,\r\n    email,\r\n  });\r\n  row.appendChild(divider.cloneNode(true));\r\n  createRadioWrapper(row, col.cloneNode(true));\r\n  row.appendChild(divider.cloneNode(true));\r\n  // Subject\r\n  createInput(row, col.cloneNode(true), inputLabel.cloneNode(true), 'موضوع', 'subject', '');\r\n  row.appendChild(divider.cloneNode(true));\r\n  // Description\r\n  createTextArea(row, col.cloneNode(true), inputLabel.cloneNode(true), 'توضیحات', 'description');\r\n  return wrapper;\r\n};\r\nexport default completeRequest;","import completeRequest from './completeRequest.js';\r\nimport {hideModal} from './modal.js';\r\n\r\n/* todo move store to separate file */\r\nexport const initialInfo = {\r\n  store: {\r\n    fullName: null,\r\n    email: null,\r\n    avatar: null,\r\n    requestUrl: null,\r\n  },\r\n  get info() {\r\n    return this.store;\r\n  },\r\n  set info(info) {\r\n    this.store = info ?? {\r\n      fullName: undefined,\r\n      email: undefined,\r\n      avatar: undefined,\r\n      requestUrl: undefined,\r\n    };\r\n  },\r\n};\r\n\r\nfunction formatBytes(bytes, decimals = 2) {\r\n  if (!+bytes) return '0 Bytes';\r\n\r\n  const k = 1024;\r\n  const dm = decimals < 0 ? 0 : decimals;\r\n  const sizes = ['Bytes', 'KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB'];\r\n\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n  return `${parseFloat((bytes / Math.pow(k, i)).toFixed(dm))} ${sizes[i]}`;\r\n}\r\n\r\nfunction createName() {\r\n  const now = new Date();\r\n  const yyyy = now.getFullYear();\r\n  let mm = now.getMonth() + 1; // Months start at 0!\r\n  let dd = now.getDate();\r\n  let HH = now.getHours();\r\n  let MM = now.getMinutes();\r\n  let SS = now.getSeconds();\r\n\r\n  if (dd < 10) dd = `0${dd}`;\r\n  if (mm < 10) mm = `0${mm}`;\r\n  if (HH < 10) HH = `0${HH}`;\r\n  if (MM < 10) MM = `0${MM}`;\r\n  if (SS < 10) SS = `0${SS}`;\r\n  return `${yyyy}-${mm}-${dd}_-_${HH}:${MM}:${SS}`;\r\n}\r\n\r\nconst fileName = createName();\r\n\r\nconst request = async (recordedBlob, values) => {\r\n\r\n  const file = new File([recordedBlob], fileName);\r\n  const formData = new FormData();\r\n\r\n  formData.append('file', file, `${fileName}.webm`);\r\n  formData.append('fullName', initialInfo.info.fullName);\r\n  formData.append('fullName', initialInfo.info.email);\r\n  formData.append('subject', values['subject']);\r\n  formData.append('description', values['description']);\r\n  formData.append('priority', values['priority']);\r\n\r\n  const requestBody = {\r\n    ...values,\r\n    file: `${fileName}.mp4`,\r\n  };\r\n  console.log({recordedBlob});\r\n  console.log({requestBody});\r\n\r\n  const response = await fetch(initialInfo.info.requestUrl, {\r\n    method: 'POST',\r\n    // body: formData,\r\n    body: {},\r\n  });\r\n\r\n  response.json().then(response => {\r\n    console.log({response});\r\n  });\r\n  hideModal();\r\n};\r\n\r\nconst saveData = (function () {\r\n  return function (recordedBlob) {\r\n    const fileSize = formatBytes(recordedBlob.size, 2);\r\n    completeRequest(initialInfo.info, {fileSize, fileName}, (values) => values && request(recordedBlob, values));\r\n  };\r\n}());\r\n\r\nexport default saveData;","// Declare variable\r\nlet timer;\r\nlet timerRef;\r\nexport const runTimer = (ref, callback) => {\r\n  // Initial ref\r\n  timerRef = ref;\r\n  let [milliseconds, seconds, minutes, hours] = [0, 0, 0, 0];\r\n  // Calculate time\r\n  const displayTimer = () => {\r\n    milliseconds += 10;\r\n    if (milliseconds === 1000) {\r\n      milliseconds = 0;\r\n      seconds++;\r\n      // Update time in callback\r\n      updateCallback();\r\n      if (seconds === 60) {\r\n        seconds = 0;\r\n        minutes++;\r\n        if (minutes === 60) {\r\n          minutes = 0;\r\n          hours++;\r\n        }\r\n      }\r\n    }\r\n    // Update time in ref\r\n    updateTimer();\r\n  };\r\n  // Update time in ref\r\n  const updateTimer = () => {\r\n    let h = hours < 10 ? '0' + hours : hours;\r\n    let m = minutes < 10 ? '0' + minutes : minutes;\r\n    let s = seconds < 10 ? '0' + seconds : seconds;\r\n    // let ms = milliseconds < 10 ? '00' + milliseconds : milliseconds < 100 ? '0' + milliseconds : milliseconds;\r\n    timerRef.innerText = `${h < 1 ? '' : h + ':'}${m}:${s}`;\r\n  };\r\n  // Update time in callback\r\n  const updateCallback = () => callback({seconds, minutes, hours});\r\n  // Clear unnecessary interval\r\n  if (timer) clearInterval(timer);\r\n  // Set interval for every 10 milliseconds\r\n  timer = setInterval(displayTimer, 10);\r\n};\r\nexport const stopTimer = () => clearInterval(timer);","class ScreenMask {\r\n  moved;\r\n  clicked;\r\n  startPosition;\r\n  element;\r\n  createElement = () => {\r\n    /* todo move css to js */\r\n    // Create elements\r\n    const element = document.createElement('div');\r\n    const close = document.createElement('div');\r\n    close.innerText = '✖';\r\n    // Set attributes\r\n    close.setAttribute('class', 'close');\r\n    element.setAttribute('id', `mask-element-${Math.random().toString(16).slice(2)}`);\r\n    // Add event listener to close\r\n    close.addEventListener('click', () => this.removeElement(element));\r\n    // Append close to element\r\n    element.appendChild(close);\r\n    // Append element to body\r\n    document.body.appendChild(element);\r\n    return element;\r\n  };\r\n  removeElement = (element) => element.remove();\r\n  removeAllElements = () => {\r\n    const elements = document.querySelectorAll(`[id^='mask-element-']`);\r\n    elements.forEach(element => element.remove());\r\n  };\r\n  mousedownListener = (event) => {\r\n    const x = event.pageX;\r\n    const y = event.pageY;\r\n    this.startPosition = {x, y};\r\n    this.clicked = true;\r\n  };\r\n  mousemoveListener = (event) => {\r\n    const x = event.pageX;\r\n    const y = event.pageY;\r\n    const innerWidth = window.innerWidth;\r\n    const innerHeight = window.innerHeight;\r\n    if (this.clicked) {\r\n      event.preventDefault();\r\n      if (!this.moved) this.element = this.createElement();\r\n      if (!this.element) return;\r\n      // Style\r\n      //// Background color of element\r\n      this.element.style.backgroundColor = 'black';\r\n      //// CSS position of element\r\n      this.element.style.position = 'absolute';\r\n      //// Position of element\r\n      let right = this.startPosition.x < x ? this.startPosition.x : (x > innerWidth ? innerWidth - 5 : x);\r\n      let left = x < 5 ? 5 : (x < this.startPosition.x ? x : this.startPosition.x);\r\n      //////// Get direction of page\r\n      const direction = getComputedStyle(document.querySelector('body')).direction;\r\n      if (direction === 'rtl') {\r\n        right = x < this.startPosition.x ? (innerWidth - this.startPosition.x) : (x < innerWidth ? innerWidth - x : 0);\r\n        left = x < this.startPosition.x ? (innerWidth - x) : (innerWidth - this.startPosition.x);\r\n      }\r\n      this.element.style.top = `${this.startPosition.y < y ? this.startPosition.y : (y < 5 ? 5 : y)}px`;\r\n      this.element.style.bottom = `${y < this.startPosition.y ? this.startPosition.y : (y > innerHeight ? innerHeight - 5 : y)}px`;\r\n      this.element.style.right = `${right}px`;\r\n      this.element.style.left = `${left}px`;\r\n      //// Width and height of element\r\n      this.element.style.width = `${this.startPosition.x > x ? (x < 0 ? this.startPosition.x - 5 : this.startPosition.x - x) : (x > innerWidth ? innerWidth - this.startPosition.x - 5 : x - this.startPosition.x)}px`;\r\n      this.element.style.height = `${this.startPosition.y > y ? (y < 0 ? this.startPosition.y - 5 : this.startPosition.y - y) : (y > innerHeight ? innerHeight - this.startPosition.y - 5 : y - this.startPosition.y)}px`;\r\n      this.moved = true;\r\n    }\r\n  };\r\n  mouseupListener = () => {\r\n    this.moved = false;\r\n    this.clicked = false;\r\n  };\r\n  addMouseEvents = () => {\r\n    document.addEventListener('mousedown', this.mousedownListener);\r\n    document.addEventListener('mousemove', this.mousemoveListener);\r\n    document.addEventListener('mouseup', this.mouseupListener);\r\n  };\r\n  removeMouseEvents = () => {\r\n    // release memory\r\n    document.removeEventListener('mousedown', this.mousedownListener);\r\n    document.removeEventListener('mousemove', this.mousemoveListener);\r\n    document.removeEventListener('mouseup', this.mouseupListener);\r\n  };\r\n  init = (initial) => {\r\n    if (!initial) {\r\n      this.removeMouseEvents();\r\n      return;\r\n    }\r\n    this.addMouseEvents();\r\n  };\r\n}\r\n\r\nexport default ScreenMask;","import Observable from './Observable.js';\r\nimport saveData from './saveData.js';\r\n\r\nclass ScreenRecorder {\r\n  constructor(options) {\r\n    // Declare constraints\r\n    this.displayMediaConstraints = options?.displayMediaConstraints ?? {audio: true, video: true};\r\n    this.userMediaConstraints = options?.userMediaConstraints ?? {\r\n      audio: {\r\n        sampleSize: 100,\r\n        frameRate: {max: 30},\r\n        channelCount: 2,\r\n      },\r\n    };\r\n    // Declare mime type\r\n    this.mimeType = options?.mimeType ?? 'video/webm';\r\n  }\r\n\r\n  // Declare Stats\r\n  videoStreamState;\r\n  audioStreamState;\r\n  // Start recording function\r\n  startRecording = (stream) => {\r\n    // Create a media recorder\r\n    const recorder = new MediaRecorder(stream);\r\n    // The stream data is stored in this array\r\n    let data = [];\r\n    // Push frames to array\r\n    recorder.ondataavailable = (event) => data.push(event.data);\r\n    // Start media recorder\r\n    recorder.start();\r\n    // Check if stream is stopped\r\n    let stopped = new Promise((resolve, reject) => {\r\n      recorder.onstop = resolve;\r\n      recorder.onerror = (event) => reject(event.name);\r\n    });\r\n    // When stream is stopped, return data\r\n    return Promise.all([stopped]).then(() => data);\r\n  };\r\n  renderStream = (stream) => {\r\n    // Check if stream is stopped with browser button\r\n    stream.getVideoTracks()[0].onended = () => this.stopRecording();\r\n    this.startRecording(stream).then((recordedChunks) => {\r\n      const mimeType = this.mimeType;\r\n      // Create Blob and video file\r\n      const recordedBlob = new Blob(recordedChunks, {type: mimeType});\r\n      // Fire observer\r\n      Observable.fire('stopped');\r\n      // Test of File\r\n      saveData(recordedBlob);\r\n      console.info(`[avm-js] Successfully recorded ${recordedBlob.size} bytes of ${recordedBlob.type} media.`);\r\n    });\r\n  };\r\n  // Stop recording function\r\n  stopRecording = () => {\r\n    // Stop every track of each stream\r\n    [this.videoStreamState, this.audioStreamState].forEach(stream => stream.getTracks().forEach((track) => track.stop()));\r\n  };\r\n  // Create mixed stream from display media and user media\r\n  createStream = async () => {\r\n    // Get display media\r\n    this.videoStreamState = await navigator.mediaDevices.getDisplayMedia(this.displayMediaConstraints);\r\n    // Get user media (Just Audio)\r\n    this.audioStreamState = await navigator.mediaDevices.getUserMedia(this.userMediaConstraints);\r\n    // Get Audio track of this moment\r\n    const audioTrack = this.audioStreamState.getAudioTracks()[0];\r\n    // Add microphone audio to display video\r\n    this.videoStreamState.addTrack(audioTrack);\r\n    // Return mixed stream\r\n    return this.videoStreamState;\r\n  };\r\n  // Start get permission\r\n  start = async () => {\r\n    // Create recorded chunks and wait for stop\r\n    await this.createStream().then((stream) => {\r\n      this.renderStream(stream);\r\n      return true;\r\n    }).catch((error) => {\r\n      if (error.name === 'NotFoundError') {\r\n        console.error('Camera or microphone not found. Can\\'t record.');\r\n      } else {\r\n        console.error(error);\r\n      }\r\n    });\r\n  };\r\n}\r\n\r\nexport default ScreenRecorder;","// Load Styles\r\nimport '../scss/main.scss';\r\nimport {createElement, destroyElement} from './floatingEmelemt.js';\r\nimport Observable from './Observable.js';\r\nimport {initialInfo} from './saveData.js';\r\nimport {runTimer, stopTimer} from './timer.js';\r\nimport ScreenMask from './screenMask.js';\r\nimport ScreenRecorder from './screenRecorder.js';\r\n\r\nclass avmJSBuilder {\r\n  constructor() {\r\n    this.options = null;\r\n    this.startButton = null;\r\n    this.screenRecorder = new ScreenRecorder();\r\n    this.screenMask = new ScreenMask();\r\n    this.timerWrapper = null;\r\n  }\r\n\r\n  initialize({options, startButtonId}) {\r\n    if (!options) {\r\n      console.error('Options not set.');\r\n      return;\r\n    }\r\n    if (!startButtonId) {\r\n      console.error('Start button not set.');\r\n      return;\r\n    }\r\n    console.info('[avm-js] Package is initialized!');\r\n\r\n    this.options = options;\r\n    this.startButton = document.getElementById(startButtonId);\r\n\r\n    initialInfo.info = {\r\n      fullName: this.options.fullName,\r\n      email: this.options.email,\r\n      avatar: this.options.avatar,\r\n      requestUrl: this.options.requestUrl,\r\n    };\r\n\r\n    if (this.startButton) {\r\n      this.startButton.addEventListener('click', this.createElement.bind(this));\r\n    } else {\r\n      console.error(`Element with ID '${startButtonId}' not found.`);\r\n    }\r\n  }\r\n\r\n  startRecording() {\r\n    Observable.subscribe(this.clearElements.bind(this));\r\n    this.screenRecorder.start().then(() => {\r\n      console.info('[avm-js] Record is started');\r\n      runTimer(this.timerWrapper, this.observeTime.bind(this));}\r\n    );\r\n  }\r\n\r\n  stopRecording() {\r\n    console.info('[avm-js] Record is stopped!');\r\n    this.screenRecorder.stopRecording();\r\n  }\r\n\r\n  closeElement() {\r\n    this.screenRecorder.stopRecording();\r\n  }\r\n\r\n  clearElements() {\r\n    stopTimer();\r\n    destroyElement();\r\n    this.screenMask.removeAllElements();\r\n    Observable.unsubscribe(this.clearElements.bind(this));\r\n  }\r\n\r\n  startMask() {\r\n    this.screenMask.init(true);\r\n  }\r\n\r\n  stopMask() {\r\n    this.screenMask.init(false);\r\n  }\r\n\r\n  observeTime({minutes}) {\r\n    if (minutes === 1) {\r\n      this.stopRecording();\r\n    }\r\n  }\r\n\r\n  createElement() {\r\n    createElement(this.closeElement.bind(this), this.startRecording.bind(this), this.stopRecording.bind(this), this.startMask.bind(this), this.stopMask.bind(this)).then(element => {\r\n      this.timerWrapper = element;\r\n    });\r\n  }\r\n}\r\n\r\nconst avmJS = new avmJSBuilder();\r\nexport default avmJS;\r\n\r\n// Usage example:\r\nconst options = {\r\n  fullName: 'John Doe',\r\n  email: 'n.kaviyani@asax.ir',\r\n  avatar: null,\r\n  requestUrl: '',\r\n};\r\n\r\nconst startButtonId = 'startButton';\r\n\r\navmJS.initialize({options, startButtonId});"],"names":["maskIcon","blinkIntervalId","wrapper","document","createElement","timerWrapper","timerElement","closeButton","muteWrapper","muteStartButton","muteStopButton","maskWrapper","maskStartButton","maskStopButton","recordWrapper","recordingButton","startRecordButton","stopRecordButton","mouseEnterWrapper","style","visibility","opacity","mouseOutWrapper","finalizedElements","initWrapper","Promise","resolve","position","left","bottom","height","backgroundColor","border","borderRadius","padding","display","alignItems","color","fontFamily","fontSize","direction","addEventListener","initTimerWrapper","setAttribute","margin","lineHeight","appendChild","initTimer","innerText","initRecordingButton","transition","right","innerHTML","initRecordWrapper","marginLeft","justifyContent","initStartRecordButton","cursor","initStopRecordButton","initMuteWrapper","initMuteStartButton","initMuteStopButton","initMaskWrapper","paddingLeft","borderLeft","initMaskStartButton","initMaskStopButton","initCloseButton","width","top","transform","appendToBody","body","all","closeElement","startRecord","stopRecord","startMask","stopMask","onclick","remove","setInterval","getComputedStyle","clearInterval","then","response","Observable","this","observers","fn","push","filter","subscriber","data","forEach","observer","fade","modal","header","content","querySelector","init","initialFontFace","link","head","initialFade","inset","zIndex","initialModal","marginRight","initialHeader","initialCloseButton","hideModal","initialContent","removeAttribute","i","storeValues","onChangeValue","event","target","name","value","console","log","createModalContent","onSubmit","fullName","email","avatar","fileSize","fileName","createContent","title","createTitle","footer","createFooter","createForm","attachmentWrapper","icon","attachmentName","attachmentSize","button","textAlign","whiteSpace","acceptButton","cloneNode","acceptButtonText","acceptButtonIcon","createRadio","row","col","options","active","label","span","groupLabel","input","radioLabel","badge","div","item","index","cloneInput","cloneLabel","cloneBadge","borderColor","cloneSpan","checked","changeLabelStyle","paddingRight","flexWrap","marginBottom","maxWidth","flexGrow","flexBasis","divider","inputLabel","labelSpan","img","btoa","infoSpan","flexDirection","fullNameSpan","emailSpan","createSenderInformation","container","innerCol","createRadioWrapper","initialValue","hasPlaceholder","outline","on","onchange","createInput","textAreaLabel","textArea","createTextArea","modalContent","insertBefore","addTitle","overflow","now","yyyy","mm","dd","HH","MM","SS","initialInfo","store","requestUrl","info","undefined","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","request","recordedBlob","values","file","File","formData","FormData","append","requestBody","fetch","method","json","timer","timerRef","ScreenMask","element","close","Math","random","toString","slice","removeElement","querySelectorAll","x","pageX","y","pageY","startPosition","clicked","innerWidth","window","innerHeight","preventDefault","moved","mousedownListener","mousemoveListener","mouseupListener","removeEventListener","initial","addMouseEvents","removeMouseEvents","ScreenRecorder","stream","recorder","MediaRecorder","ondataavailable","start","stopped","reject","onstop","onerror","getVideoTracks","onended","stopRecording","startRecording","recordedChunks","mimeType","Blob","type","bytes","decimals","k","dm","sizes","floor","parseFloat","pow","toFixed","formatBytes","size","completeRequest","saveData","videoStreamState","audioStreamState","getTracks","track","stop","navigator","mediaDevices","getDisplayMedia","displayMediaConstraints","getUserMedia","userMediaConstraints","audioTrack","getAudioTracks","addTrack","createStream","renderStream","error","audio","video","sampleSize","frameRate","max","channelCount","avmJSBuilder","startButton","screenRecorder","screenMask","startButtonId","getElementById","bind","clearElements","ref","callback","milliseconds","seconds","minutes","hours","h","m","s","runTimer","observeTime","removeAllElements","initialize"],"sourceRoot":""}